<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Montar Deck</title>
    <link rel="stylesheet" href="../CSS/decks.css">
    <link rel="stylesheet" href="../CSS/responsive.css">

    <script src="../JS/cards.js" defer></script>
    <script src="../JS/deckbuilder.js" defer></script>
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <img src="../assets/avatar.png" style="width: 50px;">
        </div>
        <div class="links">
            <a href="">Jogar</a>
            <a href="">Decks</a>
            <a href="">Cartas</a>
            <a href="">Regras</a>
            <a href="../HTML/perfil.html">Perfil</a>
        </div>
        <div class="sign" id="auth-links">
            <a href="../HTML/login.html" class="auth">Login</a>
            <a href="../HTML/register.html" class="auth">Registrar</a>
        </div>
    </nav>

    <section class="deckbuilder-container">
        <main class="editor-area">
            <section class="cards-pool">
                <h2>Cartas Disponíveis</h2>
                <div class="tabs-container">
                    <button onclick="renderCards('todos')">Todos</button>
                    <button onclick="renderCards('criatura')">Tropas</button>
                    <button onclick="renderCards('feitiço')">Feitiços</button>
                    <button onclick="renderCards('mago')">Magos</button>
                    <button onclick="renderCards('torre')">Estrutura</button>
                    <button onclick="renderCards('arma')">Armamento</button>
                </div>
                <div id="card-list" class="grid-cartas"></div>
            </section>

            <section class="current-deck">
                <div class="deck-header">
                    <h2>Baralho: <span id="actual-deck">Meu Novo Deck</span> (<span id="deck-count">0</span>/40)</h2>
                    <select id="seletor-decks" class="select"></select>
                    <button id="edit-deck">Editar Deck</button>
                    <button id="delete-deck">Excluir Deck</button>
                    <!-- <button id="btn-principal" class="btn-favorito">⭐ Definir como Principal</button> -->
                </div>
                <div id="deck-cards" class="grid-cartas">
                </div>
                <div id="mage-container" class="mage">
                </div>
            </section>
        </main>

        <aside class="preview-sidebar">
            <div id="card-preview" class="card-large">
                <p>Selecione um carta</p>
            </div>
            <div class="btn-container">
                <button id="addMago">Definir como Mago</button>
                <button id="btn-new-card">Adicionar no Deck</button>
                <button id="save-deck">Salvar Deck</button>
                <button id="btn-novo-deck">Novo Deck</button>
                <button onclick="exportDeck()">Exporta</button>
                <button id="btn-atualizar-csv">Atualizar e Baixar CSV</button>
            </div>
        </aside>
    </section>

    <div id="modal-edicao" class="modal-container" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">Configurações do Baralho</h3>

            <label for="input-editar-nome">Nome do Deck:</label>
            <input type="text" id="input-editar-nome" placeholder="Novo nome do deck...">
            <br><br>
            <!-- <h4>Escolha um Ícone:</h4>
            <div id="icon-selector" class="icon-grid-selector">
            </div> -->

            <div class="modal-actions">
                <button onclick="fecharModalEdicao()">Cancelar</button>
                <button id="btn-confirmar-edicao" class="btn-save">Salvar Alterações</button>
            </div>
        </div>
    </div>

    <div id="export-area" class="export-hidden">
        <h1 id="export-deck-name">Nome</h1>

        <div class="export-main-container">
            <div id="export-grid" class="export-grid"></div>

            <div id="export-mago-preview" class="export-mago-container">
            </div>
        </div>

        <p class="export-credits">Feito por Player</p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="../JS/auth.js"></script>
</body>

</html>